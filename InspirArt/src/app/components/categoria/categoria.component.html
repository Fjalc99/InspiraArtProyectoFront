<div class="d-flex align-items-center justify-content-between mb-3">
  <h3>Categorías</h3>
  <button class="btn btn-corporativo" (click)="aniadirCategoria()">
    <i class="bi bi-plus"></i>
    Añadir categoría
  </button>
</div>

<app-categoria-form
  *ngIf="mostrarFormulario"
  [categoria]="categoriaSeleccionada"
  [esEdicion]="esEdicion"
  (guardar)="onGuardarCategoria($event)"
  (cancelar)="onCancelarFormulario()">
</app-categoria-form>

<div class="row" *ngIf="!mostrarFormulario">
  <div class="col-md-4 mb-4" *ngFor="let categoria of categorias">
    <div class="card h-100">
      <div class="card-body" *ngIf="categoria.nombre">
        <h4 class="card-title">{{ categoria.nombre }}</h4>
        <div class="d-flex gap-2 mt-3">
          <button class="btn btn-outline-secondary btn-sm" (click)="editarCategoria(categoria)" title="Editar">
            <i class="bi bi-pencil"></i>
          </button>
          <button class="btn btn-outline-danger btn-sm" (click)="eliminarCategoria(categoria.idCategoria)" title="Eliminar">
            <i class="bi bi-trash"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<nav *ngIf="totalPages > 1" class="d-flex justify-content-center mt-4">
  <ul class="pagination">
    <li class="page-item" *ngFor="let p of [].constructor(totalPages); let i = index" [class.active]="page === i">
      <button class="page-link" (click)="goToPage(i)">{{ i + 1 }}</button>
    </li>
  </ul>
</nav>