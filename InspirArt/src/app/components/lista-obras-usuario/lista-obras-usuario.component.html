<!-- Detalle de obra -->
<div *ngIf="mostrarDetalle && obraSeleccionada">
  <app-detalle-obra
    [obraSeleccionada]="obraSeleccionada"
    (cerrar)="cerrarDetalle()">
  </app-detalle-obra>
</div>

<!-- Listado de obras -->
<div *ngIf="!mostrarDetalle">
  <div class="obra-header"
    style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px;">
    <h3>Obras</h3>
  </div>

  <div class="row">
    <div class="col-md-4 mb-4" *ngFor="let obra of obras">
      <div class="card h-100">
        <img [src]="obra.imagenObra ? obra.imagenObra : 'assets/no-image.png'"
          class="card-img-top" [alt]="obra.nombre">
        <div class="card-body">
          <div class="d-flex align-items-center justify-content-between">
            <h5 class="card-title mb-0">{{ obra.nombre }}</h5>
            <button class="btn btn-link p-0 ms-2"
              (click)="toggleFavorito(obra)"
              [attr.aria-label]="esFavorito(obra) ? 'Quitar de favoritos' : 'Añadir a favoritos'">
              <i class="bi"
                [ngClass]="esFavorito(obra) ? 'bi-heart-fill text-danger' : 'bi-heart'"></i>
            </button>
          </div>
          <p class="card-text"><strong>Autor:</strong> {{ obra.nombreAutor
            }}</p>
          <p class="card-text"><strong>Categoría:</strong> {{
            obra.categoria.nombre }}</p>
          <p class="card-text"><strong>Fecha:</strong> {{ obra.fechaSubida |
            date:'mediumDate' }}</p>
          <p class="card-text" *ngIf="obra.mediaValoracion != null">
            <strong>Valoración:</strong> {{ obra.mediaValoracion |
            number:'1.1-2' }} / 5
          </p>
                                <button class="btn btn-corporativo ancho-personalizado me-2"
        (click)="verDetalleObra(obra)"
        aria-label="Ver detalle">
  <i class="bi bi-eye fs-6"></i>
</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Paginación -->
  <div class="pagination mt-3 d-flex justify-content-center">
    <button *ngFor="let p of [].constructor(totalPages); let i = index"
      class="btn btn-sm mx-1"
      [class.btn-primary]="page === i"
      [class.btn-outline-primary]="page !== i"
      (click)="goToPage(i)">
      {{ i + 1 }}
    </button>
  </div>
</div>